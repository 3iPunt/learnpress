!function(t){var e={};function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=17)}({17:function(t,e,n){"use strict";n.r(e);n(18);var a=a||{};!function(){var t=jQuery,e=function(){t.ajax({url:"",data:{"lp-ajax":"toggle_item_preview",item_id:this.value,previewable:this.checked?"yes":"no",nonce:t(this).attr("data-nonce")},dataType:"text",success:function(t){t=a.parseJSON(t)}})},n=function(e){var n=t(this).addClass("disabled");e.preventDefault(),t.post({url:n.attr("href"),data:{"lp-ajax":"create-pages"},dataType:"text",success:function(t){var e=n.closest(".lp-notice").html("<p>"+t+"</p>");setTimeout((function(){e.fadeOut()}),2e3)}})},s=function(e){e.preventDefault(),t(this).closest(".lp-upgrade-notice").fadeOut(),t.post({url:"",data:{"lp-hide-upgrade-message":"yes"},success:function(t){}})},r=function(e){if(!t(e.target).hasClass("buy-now")){e.preventDefault();var n=t(this).closest(".plugin-card");t(this).hasClass("updating-message")||(t(this).addClass("updating-message button-working disabled"),t.ajax({url:t(this).attr("href"),data:{},success:function(e){t.ajax({url:window.location.href,success:function(e){var a=t(e).find("#"+n.attr("id"));a.length?n.replaceWith(a):n.find(".plugin-action-buttons a").removeClass("updating-message button-working").html(learn_press_admin_localize.plugin_installed)}})}}))}},i=function(t){return t.preventDefault(),!1};a.createButtonAddNewQuestion=function(){if(t(document.body).hasClass("post-type-lp_question")){var e=t(document).find(".page-title-action");if(e.length){var n=window.lpAdminSettings.questionTypes,a=t('<div id="button-new-question" class="page-title-action"><div></div></div>'),s=e.attr("href");for(var r in n)a.find("div").append('<a href="'.concat(s.addQueryVar("question-type",r),'">').concat(n[r],"</a>"));a.find("span").html(e.text()),a.insertBefore(e),a.prepend(e.removeClass("page-title-action"))}}};var o=function(e){setTimeout((function(){var n=t(e.target).closest(".rwmb-text-list-wrapper").find(".rwmb-text-list-clone"),a=n.last();n.each((function(){var e=t(this);if(!e.find(".rwmb-text-list").val().length)return e.find(".rwmb-text-list").focus(),e.is(a)||a.remove(),!1}))}),20)},c=function(e){if(13===e.keyCode){e.preventDefault();var n=t(e.target).closest(".rwmb-text-list-clone"),a=t(e.target).closest(".rwmb-text-list-wrapper");a.find(".rwmb-text-list-clone").last().is(n)?a.find(".add-clone").trigger("click"):t(e.target).closest(".rwmb-text-list-clone").next().find(".rwmb-text-list").focus()}},l=function(e){t(e.target).is(":checked")&&t("#_lp_block_content").prop("checked",!0)};t(document).ready((function(){t(".learn-press-dropdown-pages").LP("DropdownPages"),t(".learn-press-advertisement-slider").LP("Advertisement","a","s").appendTo(t("#wpbody-content")),t(".learn-press-toggle-item-preview").on("change",e),t(".learn-press-tip").LP("QuickTip"),a.createButtonAddNewQuestion(),t(document).on("click","#learn-press-create-pages",n).on("click",".lp-upgrade-notice .close-notice",s).on("click",".plugin-action-buttons a",r).on("click","[data-remove-confirm]",i).on("mousedown",".lp-sortable-handle",(function(e){t("html, body").addClass("lp-item-moving"),t(e.target).closest(".lp-sortable-handle").css("cursor","inherit")})).on("mouseup",(function(e){t("html, body").removeClass("lp-item-moving"),t(".lp-sortable-handle").css("cursor","")})).on("click",".rwmb-text-list-wrapper .add-clone",o).on("keypress",".rwmb-text-list-wrapper .rwmb-text-list",c).on("change","#_lp_retake_count",l),setTimeout((function(){t(".rwmb-text-list-wrapper .rwmb-input").removeClass("ui-sortable").sortable({axis:"y",handle:"label"})}),100),t(document).on("LP.adminTabs.selectTab",(function(e,n,a){"lp_course"===t(document).find('input[name="post_type"]').val()&&t('input[name="_wp_http_referer"], input[name="referredby"], input[name="_wp_original_http_referer"]').val(a)}))}))}()},18:function(t,e){!function(t){"use strict";var e=function(t){this.data=t;var e=-1,n=null,a=null,s=Object.keys(this.data);this.reset=function(t){return t=void 0===t||t>s.length-1||t<0?0:t,e=t,n=s[t],a=this.data[n]},this.next=function(){return!(e>=s.length-1)&&(e++,this.reset(e),a)},this.prev=function(){return!(e<=0)&&(e--,this.reset(e),a)},this.currentVersion=function(){return n},this.hasPackage=function(){return s.length},this.getPercentCompleted=function(){return e/s.length},this.getTotal=function(){return s.length},this.data},n={el:"#learn-press-updater",data:{packages:null,status:"",force:!1},watch:{packages:function(t,e){}},mounted:function(){t(this.$el).show()},methods:{getUpdatePackages:function(n){var a=this;t.ajax({url:lpGlobalSettings.admin_url,data:{"lp-ajax":"get-update-packages",force:this.force,_wpnonce:lpGlobalSettings._wpnonce},success:function(t){var s=LP.parseJSON(t);a.packages=new e(s),n&&n.call(a)}})},start:function(t,e){this.packages=null,this.force=e,this.getUpdatePackages((function(){if(this.packages.hasPackage()){var t=this.packages.next();this.status="updating",this.doUpdate(t)}}))},getPackages:function(){return this.packages?this.packages.data:{}},hasPackage:function(){return!t.isEmptyObject(this.getPackages())},updateButtonClass:function(){return{disabled:"updating"===this.status}},doUpdate:function(e,n){var a=this;e=e||this.packages.next(),n=n||1,e?t.ajax({url:lpGlobalSettings.admin_url,data:{"lp-ajax":"do-update-package",package:e,version:this.packages.currentVersion(),_wpnonce:lpGlobalSettings._wpnonce,force:this.force,i:n},success:function(s){var r=LP.parseJSON(s);t(a.$el).find(".updater-progress-status");if("yes"===r.done)a.update(100*a.packages.getPercentCompleted()),a.doUpdate();else{var i=100*a.packages.getPercentCompleted();if(r.percent)i+=1/a.packages.getTotal()*r.percent;a.update(i),a.doUpdate(e,++n)}},error:function(){a.doUpdate(e,n)}}):(a.update(100).addClass("completed"),setTimeout((function(t){t.status="completed"}),2e3,this))},update:function(e){return t(this.$el).find(".updater-progress-status").css("width",e+"%").attr("data-value",parseInt(e))}}};t(document).ready((function(){if(window.lpGlobalSettings=window.lpGlobalSettings||{},t("#learn-press-updater").length)new Vue(n);var e=window.lpUpdateSettings||{};t(document).on("click","#button-update",(function(e){e.preventDefault();var n=t("#learn-press-update-form"),a=t(this).attr("href"),s=t("#main").addClass("loading");t(".learn-press-message").remove(),t.post({url:a,data:n.serializeJSON(),success:function(e){t(e).insertBefore(n),s.removeClass("loading")}})})).on("click",".lp-button-upgrade",(function(n){if(n.preventDefault(),!confirm(e.i18n_confirm))return!1;var a=t(this),s=a.addClass("disabled").attr("href"),r=a.data("context");t.post({url:s,data:{context:r},success:function(e){var n=t(e);"message"==r?a.closest(".notice").replaceWith(n):n.insertBefore(a)}})})).on("click","#skip-notice-install",(function(){t.post({url:"",data:{"lp-ajax":"skip-notice-install"}}),t("#notice-install").fadeOut()}))}))}(jQuery)}});