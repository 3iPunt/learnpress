{"version":3,"sources":["webpack:///webpack/bootstrap dc23b0b7f2ac0bf05df0","webpack:///./assets/src/js/admin/admin.js","webpack:///./assets/src/js/admin/pages/update.js"],"names":["$","jQuery","updateItemPreview","ajax","url","data","item_id","value","previewable","checked","nonce","attr","dataType","success","response","LP","parseJSON","createPages","e","$button","addClass","preventDefault","post","res","$message","closest","html","setTimeout","fadeOut","hideUpgradeMessage","$btn","pluginActions","target","hasClass","$plugin","r","window","location","href","$p","find","length","replaceWith","removeClass","learn_press_admin_localize","plugin_installed","onReady","appendTo","on","document","css","ready","Package","currentIndex","currentVersion","currentPackage","versions","Object","keys","reset","current","undefined","next","prev","hasPackage","getPercentCompleted","getTotal","UpdaterSettings","el","packages","status","force","watch","newPackages","oldPackages","mounted","$el","show","methods","getUpdatePackages","callback","that","lpGlobalSettings","admin_url","_wpnonce","call","start","p","doUpdate","getPackages","isEmptyObject","updateButtonClass","i","package","version","$status","done","update","newWidth","percent","stepWidth","error","x","parseInt","init","Updater","Vue"],"mappings":"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","file":"./assets/js/admin/admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc23b0b7f2ac0bf05df0","/**\n * JS code may run in all pages in admin.\n *\n * @version 3.x.x\n */\n//import Utils from './utils';\n//import Test from './test';\n\nimport Update from './pages/update';\n\n;(function () {\n    const $ = jQuery;\n\n    const updateItemPreview = function updateItemPreview() {\n        $.ajax({\n            url: '',\n            data: {\n                'lp-ajax': 'toggle_item_preview',\n                item_id: this.value,\n                previewable: this.checked ? 'yes' : 'no',\n                nonce: $(this).attr('data-nonce')\n            },\n            dataType: 'text',\n            success: function (response) {\n                response = LP.parseJSON(response);\n            }\n        });\n    };\n\n    /**\n     * Callback event for button to creating pages inside error message.\n     *\n     * @param {Event} e\n     */\n    const createPages = function createPages(e) {\n        var $button = $(this).addClass('disabled');\n        e.preventDefault();\n        $.post({\n            url: $button.attr('href'),\n            data: {\n                'lp-ajax': 'create-pages'\n            },\n            dataType: 'text',\n            success: function (res) {\n                var $message = $button.closest('.lp-notice').html('<p>' + res + '</p>');\n                setTimeout(function () {\n                    $message.fadeOut()\n                }, 2000);\n            }\n        });\n    };\n\n    const hideUpgradeMessage = function hideUpgradeMessage(e) {\n        e.preventDefault();\n        var $btn = $(this);\n        $btn.closest('.lp-upgrade-notice').fadeOut();\n        $.post({\n            url: '',\n            data: {\n                'lp-hide-upgrade-message': 'yes'\n            },\n            success: function (res) {\n            }\n        });\n    };\n\n    const pluginActions = function pluginActions(e) {\n\n        // Premium addon\n        if ($(e.target).hasClass('buy-now')) {\n            return;\n        }\n\n        e.preventDefault();\n\n        var $plugin = $(this).closest('.plugin-card');\n        if ($(this).hasClass('updating-message')) {\n            return;\n        }\n        $(this).addClass('updating-message button-working disabled');\n        $.ajax({\n            url: $(this).attr('href'),\n            data: {},\n            success: function (r) {\n                $.ajax({\n                    url: window.location.href,\n                    success: function (r) {\n                        var $p = $(r).find('#' + $plugin.attr('id'));\n                        if ($p.length) {\n                            $plugin.replaceWith($p)\n                        } else {\n                            $plugin.find('.plugin-action-buttons a')\n                                .removeClass('updating-message button-working')\n                                .html(learn_press_admin_localize.plugin_installed);\n                        }\n                    }\n                })\n            }\n        });\n    };\n\n    const preventDefault = function preventDefault(e) {\n        e.preventDefault();\n        return false;\n    };\n\n    var onReady = function onReady() {\n\n        $('.learn-press-dropdown-pages').LP('DropdownPages');\n        $('.learn-press-advertisement-slider').LP('Advertisement', 'a', 's').appendTo($('#wpbody-content'));\n        $('.learn-press-toggle-item-preview').on('change', updateItemPreview);\n        $('.learn-press-tip').LP('QuickTip');\n        //$('.learn-press-tabs').LP('AdminTab');\n\n        $(document)\n            .on('click', '#learn-press-create-pages', createPages)\n            .on('click', '.lp-upgrade-notice .close-notice', hideUpgradeMessage)\n            .on('click', '.plugin-action-buttons a', pluginActions)\n            .on('click', '[data-remove-confirm]', preventDefault)\n            .on('mousedown', '.lp-sortable-handle', function (e) {\n                $('html, body').addClass('lp-item-moving');\n                $(e.target).closest('.lp-sortable-handle').css('cursor', 'inherit');\n            })\n            .on('mouseup', function (e) {\n                $('html, body').removeClass('lp-item-moving');\n                $('.lp-sortable-handle').css('cursor', '');\n            });\n    };\n\n    $(document).ready(onReady)\n})();\n\n\n// WEBPACK FOOTER //\n// ./assets/src/js/admin/admin.js",";(function ($) {\n    'use strict';\n\n    var Package = function (data) {\n        this.data = data;\n\n        var currentIndex = -1,\n            currentVersion = null,\n            currentPackage = null,\n            versions = Object.keys(this.data);\n\n        this.reset = function (current) {\n            current = (current === undefined || current > versions.length - 1 || current < 0 ) ? 0 : current;\n            currentIndex = current;\n            currentVersion = versions[current];\n            currentPackage = this.data[currentVersion];\n\n            return currentPackage;\n        }\n\n        this.next = function () {\n            if (currentIndex >= versions.length - 1) {\n                return false;\n            }\n\n            currentIndex++;\n            this.reset(currentIndex);\n\n            return currentPackage;\n        }\n\n        this.prev = function () {\n            if (currentIndex <= 0) {\n                return false;\n            }\n\n            currentIndex--;\n            this.reset(currentIndex);\n\n            return currentPackage;\n        }\n\n        this.currentVersion = function () {\n            return currentVersion;\n        }\n\n        this.hasPackage = function () {\n            return versions.length\n        }\n\n        this.getPercentCompleted = function () {\n            return (currentIndex) / versions.length;\n        }\n\n        this.getTotal = function () {\n            return versions.length;\n        }\n\n        if (!this.data) {\n            return;\n        }\n\n    }\n    var UpdaterSettings = {\n        el: '#learn-press-updater',\n        data: {\n            packages: null,\n            status: '',\n            force: false,\n        },\n        watch: {\n            packages: function (newPackages, oldPackages) {\n                if (newPackages) {\n\n                }\n            }\n        },\n        mounted: function () {\n            $(this.$el).show();\n        },\n        methods: {\n            getUpdatePackages: function (callback) {\n                var that = this;\n                $.ajax({\n                    url: lpGlobalSettings.admin_url,\n                    data: {\n                        'lp-ajax': 'get-update-packages',\n                        force: this.force,\n                        _wpnonce: lpGlobalSettings._wpnonce\n                    },\n                    success: function (res) {\n                        var packages = LP.parseJSON(res);\n                        that.packages = new Package(packages);\n                        callback && callback.call(that)\n                    }\n                })\n            },\n            start: function (e, force) {\n                this.packages = null;\n                this.force = force;\n                this.getUpdatePackages(function () {\n                    if (this.packages.hasPackage()) {\n                        var p = this.packages.next();\n                        this.status = 'updating';\n                        this.doUpdate(p);\n                    }\n                });\n            },\n            getPackages: function () {\n                return this.packages ? this.packages.data : {};\n            },\n            hasPackage: function () {\n                return !$.isEmptyObject(this.getPackages());\n            },\n            updateButtonClass: function () {\n                return {\n                    'disabled': this.status === 'updating'\n                }\n            },\n            doUpdate: function (p, i) {\n                var that = this;\n\n                p = p ? p : this.packages.next();\n                i = i ? i : 1;\n\n                if (p) {\n                    $.ajax({\n                        url: lpGlobalSettings.admin_url,\n                        data: {\n                            'lp-ajax': 'do-update-package',\n                            package: p,\n                            version: this.packages.currentVersion(),\n                            _wpnonce: lpGlobalSettings._wpnonce,\n                            force: this.force,\n                            i: i\n                        },\n                        success: function (res) {\n                            var response = LP.parseJSON(res),\n                                $status = $(that.$el).find('.updater-progress-status');\n                            if (response.done === 'yes') {\n                                that.update(that.packages.getPercentCompleted() * 100);\n                                that.doUpdate();\n                            } else {\n                                var newWidth = that.packages.getPercentCompleted() * 100;\n                                if (response.percent) {\n                                    var stepWidth = 1 / that.packages.getTotal();\n                                    newWidth += (stepWidth * response.percent);\n                                }\n\n                                that.update(newWidth);\n                                that.doUpdate(p, ++i);\n                            }\n                        },\n                        error: function () {\n                            that.doUpdate(p, i);\n                        }\n                    });\n\n                } else {\n                    that.update(100).addClass('completed');\n                    setTimeout(function (x) {\n                        x.status = 'completed';\n                    }, 2000, this);\n                }\n            },\n            update: function (value) {\n                return $(this.$el).find('.updater-progress-status').css('width', value + '%').attr('data-value', parseInt(value));\n            }\n        }\n    };\n\n    function init() {\n\n        window.lpGlobalSettings = window.lpGlobalSettings || {};\n\n        if($('#learn-press-updater').length) {\n            var Updater = new Vue(UpdaterSettings);\n        }\n\n    }\n\n    $(document).ready(init);\n\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/src/js/admin/pages/update.js"],"sourceRoot":""}