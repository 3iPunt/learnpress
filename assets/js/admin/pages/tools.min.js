import getStepsUpgradeStatus from"./tools/database/upgrade";!function(e){const t=e(document);let a=!1;const s=function(t){t.preventDefault();const s=e(this);a||confirm(lpGlobalSettings.i18n.confirm_install_sample_data)&&(s.addClass("disabled").html(s.data("installing-text")),e(".lp-install-sample__response").remove(),a=!0,e.ajax({url:s.attr("href"),data:e(".lp-install-sample__options").serializeJSON(),success(t){s.removeClass("disabled").html(s.data("text")),a=!1,e(t).insertBefore(s.parent())},error(){s.removeClass("disabled").html(s.data("text")),a=!1,e(response).insertBefore(s.parent())}}))},l=function(t){t.preventDefault();const s=e(this);a||confirm(lpGlobalSettings.i18n.confirm_uninstall_sample_data)&&(s.addClass("disabled").html(s.data("uninstalling-text")),a=!0,e.ajax({url:s.attr("href"),success(t){s.removeClass("disabled").html(s.data("text")),a=!1,e(t).insertBefore(s.parent())},error(){s.removeClass("disabled").html(s.data("text")),a=!1,e(response).insertBefore(s.parent())}}))},n=function(t){t.preventDefault();const a=e(this);a.hasClass("disabled")||(a.addClass("disabled").html(a.data("cleaning-text")),e.ajax({url:a.attr("href"),data:{},success(e){a.removeClass("disabled").html(a.data("text"))},error(){a.removeClass("disabled").html(a.data("text"))}}))},i=function(){e.ajax({url:"admin.php?page=lp-toggle-hard-cache-option",data:{v:this.checked?"yes":"no"},success(e){},error(){}})},r=function(t){t.preventDefault(),e(".lp-install-sample__options").toggleClass("hide-if-js")};e((function(){getStepsUpgradeStatus(),t.on("click",".lp-install-sample__install",s).on("click",".lp-install-sample__uninstall",l).on("click","#learn-press-clear-cache",n).on("click",'input[name="enable_hard_cache"]',i).on("click",".lp-install-sample__toggle-options",r)}))}(jQuery);