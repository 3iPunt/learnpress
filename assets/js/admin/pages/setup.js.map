{"version":3,"sources":["webpack:///webpack/bootstrap 9907635912b45d958142","webpack:///./assets/src/js/utils/email-validator.js","webpack:///./assets/src/js/admin/pages/setup.js"],"names":["isEmail","email","re","test","$","$main","$setupForm","checkForm","$form","$emails","find","valid","each","$this","css","attr","closest","prev","is","value","blockContent","block","toggleClass","undefined","getFormData","more","data","serializeJSON","extend","replaceMainContent","newContent","$newContent","replaceWith","navPages","e","preventDefault","loadUrl","addClass","post","url","success","res","$html","contents","filter","LP","setUrl","removeClass","updateCurrency","m","children","html","match","symbol","$option","text","val","replace","updatePrice","dataType","createPages","installSampleCourse","$button","onReady","document","on","ready","jQuery"],"mappings":"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","file":"./assets/js/admin/pages/setup.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 60);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9907635912b45d958142","/**\n * Validate is an email.\n *\n * @param email\n * @return {boolean}\n */\nexport default function isEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n};\n\n\n// WEBPACK FOOTER //\n// ./assets/src/js/utils/email-validator.js","import isEmail from '../../utils/email-validator';\n\n;(function ($) {\n    \"use strict\";\n    var $main,\n        $setupForm;\n\n    const checkForm = function checkForm($form) {\n        var $emails = $form.find('input[type=\"email\"]'),\n            valid = true;\n\n        $emails.each(function () {\n            var $this = $(this);\n            $this.css('border-color', '');\n\n            switch ($this.attr('name')) {\n                case 'settings[paypal][paypal_email]':\n                case 'settings[paypal][paypal_sandbox_email]':\n                    if (!$this.closest('tr').prev().find('input[type=\"checkbox\"]').is(':checked')) {\n                        return;\n                    }\n                    break;\n            }\n            if (!isEmail(this.value)) {\n                valid = false;\n                $this.css('border-color', '#FF0000');\n            }\n        });\n\n        return valid;\n    }\n\n    const blockContent = function blockContent(block) {\n        $main.toggleClass('loading', block === undefined ? true : block);\n    }\n\n    const getFormData = function getFormData(more) {\n        var data = $setupForm.serializeJSON();\n\n        return $.extend(data, more || {});\n    }\n\n    const replaceMainContent = function replaceMainContent(newContent) {\n        var $newContent = $(newContent);\n        $main.replaceWith($newContent);\n        $main = $newContent;\n    }\n\n    const navPages = function navPages(e) {\n        e.preventDefault();\n        var loadUrl = $(this).attr('href');\n\n        if (!checkForm($setupForm)) {\n            return;\n        }\n\n        $main.addClass('loading');\n        $.post({\n            url: loadUrl,\n            data: getFormData(),\n            success: function (res) {\n                var $html = $(res);\n                replaceMainContent($html.contents().filter('#main'));\n\n                LP.setUrl(loadUrl);\n\n                $('.learn-press-dropdown-pages').LP('DropdownPages');\n                $('.learn-press-tip').LP('QuickTip');\n                $main.removeClass('loading');\n            }\n        });\n    }\n\n    const updateCurrency = function updateCurrency() {\n        var m = $(this).children(':selected').html().match(/\\((.*)\\)/),\n            symbol = m ? m[1] : '';\n        $('#currency-pos').children().each(function () {\n\n            var $option = $(this),\n                text = $option.html();\n\n            switch ($option.val()) {\n                case 'left':\n                    text = text.replace(/\\( (.*)69/, '( ' + symbol + '69');\n                    break;\n                case 'right':\n                    text = text.replace(/9([^0-9]*) \\)/, '9' + symbol + ' )');\n                    break;\n                case 'left_with_space':\n                    text = text.replace(/\\( (.*) 6/, '( ' + symbol + ' 6');\n                    break;\n                case 'right_with_space':\n                    text = text.replace(/9 (.*) \\)/, '9 ' + symbol + ' )');\n                    break;\n            }\n            $option.html(text);\n        });\n    }\n\n    const updatePrice = function updatePrice() {\n        $.post({\n            url: '',\n            dataType: 'html',\n            data: getFormData({\n                    'lp-ajax': 'get-price-format'\n                }\n            ),\n            success: function (res) {\n                $('#preview-price').html(res);\n            }\n        })\n    }\n\n    const createPages = function createPages(e) {\n        e.preventDefault();\n        blockContent();\n        $.post({\n            url: $(this).attr('href'),\n            dataType: 'html',\n            data: getFormData({\n                    'lp-ajax': 'setup-create-pages'\n                }\n            ),\n            success: function (res) {\n                replaceMainContent($(res).contents().filter('#main'));\n                $('.learn-press-dropdown-pages').LP('DropdownPages');\n                blockContent(false);\n            }\n        });\n    }\n\n    const installSampleCourse = function installSampleCourse(e) {\n        e.preventDefault();\n\n        var $button = $(this);\n        blockContent();\n\n        $.post({\n            url: $(this).attr('href'),\n            dataType: 'html',\n            data: {},\n            success: function (res) {\n                blockContent(false);\n                $button.replaceWith($(res).find('a:first').addClass('button button-primary'));\n            }\n        });\n    }\n\n    function onReady() {\n\n        $main = $('#main');\n        $setupForm = $('#learn-press-setup-form');\n\n        $(document)\n            .on('click', '.buttons .button', navPages)\n            .on('change', '#currency', updateCurrency)\n            .on('change', 'input, select', updatePrice)\n            .on('click', '#create-pages', createPages)\n            .on('click', '#install-sample-course', installSampleCourse)\n    }\n\n    $(document).ready(onReady)\n\n})(jQuery);\n\n\n// WEBPACK FOOTER //\n// ./assets/src/js/admin/pages/setup.js"],"sourceRoot":""}