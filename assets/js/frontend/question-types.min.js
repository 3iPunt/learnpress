this.LP=this.LP||{},this.LP.questionTypes=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.compose}()},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(3),i=n(0),a=n(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=lodash,b=y.isArray,d=(y.get,y.set,function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=s(t).apply(this,arguments),n=!o||"object"!==c(o)&&"function"!=typeof o?l(r):o,f(l(n),"prepare",(function(e,t){var n=e.question;return n&&n.id!==t.questionId?{options:t.self.parseOptions(n.options)}:null})),f(l(n),"setInputRef",(function(e,t){n.inputs||(n.inputs={}),n.inputs[t]=e})),f(l(n),"maybeShowCorrectAnswer",(function(){var e=n.props,t=e.answered,r=e.status,o=e.isCheckedAnswer;return t&&"completed"===r||o})),f(l(n),"maybeDisabledOption",(function(e){var t=n.props,r=(t.answered,t.status);return t.isCheckedAnswer||"started"!==r})),f(l(n),"setAnswerChecked",(function(){return function(e){var t=n.props,r=t.updateUserQuestionAnswers,o=t.question;if("started"!==t.status)return"can not set answers";var i=n.$wrap.find(".option-check"),a=[],c="multi_choice"!==o.type;i.each((function(e,t){if(t.checked&&(a.push(t.value),c))return!1})),r(o.id,c?a[0]:a)}})),f(l(n),"maybeCheckedAnswer",(function(e){var t=n.props.answered;return b(t)?!!t.find((function(t){return t==e})):e==t})),f(l(n),"getOptionType",(function(e,t){var n="radio";switch(e){case"multi_choice":n="checkbox"}return n})),f(l(n),"isDefaultType",(function(){return n.props.supportOptions})),f(l(n),"getWarningMessage",(function(){return React.createElement(React.Fragment,null,Object(a.__)("Render function should be overwritten from base.","learnpress"))})),f(l(n),"getOptionClass",(function(e){n.props.answered;return["answer-option"]})),f(l(n),"parseOptions",(function(e){return e&&(e=b(e)?e:JSON.parse(CryptoJS.AES.decrypt(e.data,e.key,{format:CryptoJSAesJson}).toString(CryptoJS.enc.Utf8)),e=b(e)?e:JSON.parse(e)),e||[]})),f(l(n),"getOptions",(function(){return n.state.options||[]})),f(l(n),"isCorrect",(function(){var e,t,r,o=n.props.answered;if(!o)return!1;for(e=0,r=n.getOptions();e<r.length;e++)if("yes"===(t=r[e]).isTrue&&o==t.value)return!0;return!1})),f(l(n),"getChecker",(function(){})),f(l(n),"isChecked",(function(){var e=n.props.question;return Object(i.select)("learnpress/quiz").isCheckedAnswer(e.id)})),f(l(n),"getCorrectLabel",(function(){var e=n.props,t=(e.status,e.answered,e.question),r=(LP.config.isQuestionCorrect[t.type]||n.isCorrect).call(l(n));return n.maybeShowCorrectAnswer()&&React.createElement("div",{className:"question-response"+(r?" correct":" incorrect")},React.createElement("span",{className:"label"},r?Object(a.__)("Correct","learnpress"):Object(a.__)("Incorrect","learnpress")),React.createElement("span",{className:"point"},sprintf(Object(a.__)("%d/%d point","learnpress"),r?t.point:0,t.point)))}));var u=e.question;return n.state={optionClass:["answer-option"],questionId:0,options:u?n.parseOptions(u.options):[],self:l(n)},e.$wrap&&(n.$wrap=e.$wrap),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return t.self.prepare(e,t)}}],(r=[{key:"componentDidMount",value:function(){var e=this.prepare(this.props,this.state);e&&this.setState(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,r=t.status;return React.createElement("div",{className:"question-answers"},this.isDefaultType()&&React.createElement("ul",{id:"answer-options-".concat(n.id),className:"answer-options"},this.getOptions().map((function(t){var o="learn-press-answer-option-".concat(t.uid);return React.createElement("li",{className:e.getOptionClass(t).join(" "),key:"answer-option-".concat(t.uid)},React.createElement("input",{type:e.getOptionType(n.type,t),className:"option-check",name:"started"===r?"learn-press-question-".concat(n.id):"",id:o,ref:function(n){e.setInputRef(n,t.value)},onChange:e.setAnswerChecked(),disabled:e.maybeDisabledOption(t),checked:e.maybeCheckedAnswer(t.value),value:"started"===r?t.value:""}),React.createElement("label",{htmlFor:o,className:"option-title",dangerouslySetInnerHTML:{__html:t.title||t.value}}))}))),!this.isDefaultType()&&this.getWarningMessage(),this.getCorrectLabel())}}])&&u(n.prototype,r),o&&u(n,o),t}(r.Component));function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){var e,n,r,o,i,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];return r=this,o=(e=w(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==h(o)&&"function"!=typeof o?v(r):o,i=v(n),c=function(e){var t=n.props.answered,r=m(n.state.optionClass);return n.maybeShowCorrectAnswer()&&("yes"===e.isTrue&&r.push("answer-correct"),t&&("yes"===e.isTrue?t===e.value&&r.push("answered-correct"):t===e.value&&r.push("answered-wrong"))),r},(a="getOptionClass")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),t}(d);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=lodash.isBoolean,A=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=_(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==j(o)&&"function"!=typeof o?k(r):o,E(k(n),"isCorrect",(function(){var e,t,r,o=n.props.answered;if(C(o)||!o)return!1;for(e=0,r=n.getOptions();e<r.length;e++)if("yes"===(t=r[e]).isTrue){if(-1===o.indexOf(t.value))return!1}else if(-1!==o.indexOf(t.value))return!1;return!0})),E(k(n),"getOptionClass",(function(e){var t=n.props.answered,r=S(n.state.optionClass);return n.maybeShowCorrectAnswer()&&("yes"===e.isTrue&&r.push("answer-correct"),t&&("yes"===e.isTrue?-1!==t.indexOf(e.value)&&r.push("answered-correct"):-1!==t.indexOf(e.value)&&r.push("answered-wrong"))),r})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),t}(d);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e,n,r,o,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=x(t).apply(this,arguments),e=!r||"object"!==R(r)&&"function"!=typeof r?N(n):r,o=N(e),a=function(t){var n=e.props.answered,r=[].concat(T(e.state.optionClass),["XYZ"]);return e.maybeShowCorrectAnswer()&&("yes"===t.isTrue&&r.push("answer-correct"),n&&("yes"===t.isTrue?n===t.value&&r.push("answered-correct"):n===t.value&&r.push("answered-wrong"))),r},(i="getOptionClass")in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){}}])&&q(n.prototype,r),o&&q(n,o),t}(d);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=B(t).apply(this,arguments),e=!r||"object"!==L(r)&&"function"!=typeof r?J(n):r,H(J(e),"getOptionClass",(function(t){var n=e.props.answered,r=[].concat(I(e.state.optionClass),["XYZ"]);return!n&&e.maybeShowCorrectAnswer()&&("yes"===t.isTrue?(r.push("answer-correct"),n===t.value&&r.push("answered-correct")):n===t.value&&r.push("answered-wrong")),r})),H(J(e),"getPassageContent",(function(){var t=e.props.question,n=t.options,r=t.blankFillsStyle,o=t.blanksStyle;if(!n)return"";var i=n.map((function(e){var t=[],n=t?t[0]:{},o="";if(n&&n.words.length){if(o='<span class="blank-input"></span>',n.words.length>1)switch(r){case"select":o+="<select>"+n.words.map((function(e){return"<option value=".concat(e,">").concat(e,"</option>")})).join("")+"</select>";break;case"enumeration":o+="("+n.words.map((function(e){return"<code>".concat(e,"</code>")})).join(", ")+")"}n.tip&&(o+="?")}return(""+e.text).replace(/\{\{(.*)\}\}/,o)})).join("paragraphs"===o?"</div><div>":"ordered"===o?"</li><li>":" ");return"paragraphs"===o?"<div>".concat(i,"</div>"):"ordered"===o?"<ol><li>".concat(i,"</li></ol>"):i})),H(J(e),"setBlankWord",(function(e,t){return function(n){console.log(e,t,n.target.value)}})),H(J(e),"getBlankHtml",(function(t){var n=e.props.question,r=n.blankFillsStyle,o=(n.options,function(n){var o=n.blank.words.length;return n.blank.words.map((function(n,i){switch(r){case"select":return React.createElement("option",{value:n,key:n},n);case"enumeration":return React.createElement(React.Fragment,null,React.createElement("code",{key:n,onClick:e.setBlankWord(t,n)},n),i===o-1?"":",")}}))}),i=t.text.split(/\{\{BLANK\}\}/);return React.createElement(React.Fragment,null,i?i[0]:"",React.createElement("div",{className:"blank-input-wrap"},React.createElement("div",{contentEditable:!0,className:"blank-input"})),t.tip&&React.createElement("span",null,"help"),"select"===r&&React.createElement("select",{className:"blank-select",onChange:e.setBlankWord(t)},React.createElement(o,{blank:t})),"enumeration"===r&&React.createElement("div",{className:"blank-fills"},"(",React.createElement(o,{blank:t}),")"),i?i[1]:"")})),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.question,n=(t.options,t.blankFillsStyle,t.blanksStyle);return React.createElement(React.Fragment,null,React.createElement((function(e){var t=e.blanksStyle?e.blanksStyle:" one-paragraph";return"ordered"===e.blanksStyle?React.createElement("ol",{className:"blanks ".concat(t)},e.children):React.createElement("div",{className:"blanks ".concat(t)},e.children)}),{blanksStyle:n},this.getOptions().map((function(t){var r=e.getBlankHtml(t),o="blank-".concat(t.uid);return"ordered"===n?React.createElement("li",{key:o,className:"blank-block"},r):"paragraphs"===n?React.createElement("div",{key:o,className:"blank-block"},r):r}))))}}])&&M(n.prototype,r),o&&M(n,o),t}(d);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=X(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==$(o)&&"function"!=typeof o?Y(r):o,K(Y(n),"getQuestion",(function(){var e=n.props.question;return LP.Hook.applyFilters("question-types",{single_choice:LP.questionTypes.SingleChoice,multi_choice:LP.questionTypes.MultipleChoices,true_or_false:LP.questionTypes.TrueOrFalse,fill_in_blanks:LP.questionTypes.FillInBlanks})[e.type]})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.question,n=e.supportOptions,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props);r.supportOptions=-1!==n.indexOf(t.type);var o=this.getQuestion()||function(){return React.createElement("div",{className:"question-types",dangerouslySetInnerHTML:{__html:Object(a.sprintf)(Object(a.__)("Question <code>%s</code> invalid!","learnpress"),t.type)}})};return React.createElement(React.Fragment,null,React.createElement(o,r))}}])&&U(n.prototype,r),o&&U(n,o),t}(r.Component),V=Object(o.compose)(Object(i.withSelect)((function(e,t){var n=t.question.id,r=e("learnpress/quiz"),o=r.getData,i=r.isCheckedAnswer;return{supportOptions:o("supportOptions"),isCheckedAnswer:i(n),keyPressed:o("keyPressed")}})),Object(i.withDispatch)((function(){return{}})))(G);n.d(t,"QuestionBase",(function(){return d})),n.d(t,"SingleChoice",(function(){return g})),n.d(t,"MultipleChoices",(function(){return A})),n.d(t,"TrueOrFalse",(function(){return F})),n.d(t,"FillInBlanks",(function(){return W}));t.default=V}]);