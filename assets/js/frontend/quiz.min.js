!function(i){function n(n){var e=this,t=i.extend({},n),o=t.remainingTime,u=null,r=i(".quiz-countdown .progress-number"),m=new LP.Event_Callback(this);function s(){f();var e=t.remainingTime<=0;if(!(-1!==i.inArray(n.status,["completed","finished"]))){if(e)return i("form.complete-quiz").off("submit.learn-press-confirm"),void m.callEvent("finish");t.remainingTime--,u=setTimeout(s,1e3)}}function f(){u&&clearTimeout(u)}function a(){t.watchChange("remainingTime",(function(i,n,t){return o=t,c.apply(e,[n,t]),t}))}function c(n,e){m.callEvent("tick",[e]),e<=0&&(f(),i("form.complete-quiz").off("submit.learn-press-confirm"),m.callEvent("finish"))}function l(){var n=i(this),e=n.find('input[name="nav-type"]'),t=n[0].className.match(/(prev|next|skip)-question/);e.length||(e=i('<input type="hidden" name="nav-type" />').val(t[0]).appendTo(n))}this.on=m.on,this.off=m.off,t.totalTime>0&&(this.on("tick.showTime",(function(){o<0&&(o=0),r.html(o.toTime())})),this.on("finish.submit",(function(){i("form.complete-quiz").submit()}))),this.getRemainingTime=function(){return o},t.remainingTime<=0&&(i("form.complete-quiz").off("submit.learn-press-confirm"),m.callEvent("finish")),t.onTick&&e.on("tick",t.onTick),t.onFinish&&e.on("finish",t.onFinish),i(document).on("submit",".next-question, .prev-question, .skip-question",l),a(),s()}!Number.prototype.toTime&&(Number.prototype.toTime=function(){var i=this+0,n="";if(i>86400){var e=Math.ceil(i/86400);n=e+(e>1?" days left":" day left")}else{var t=Math.floor(i/3600),o=0;i=t?i%(3600*t):i,i=(o=Math.floor(i/60))?i%(60*o):i,t&&t<10&&(t="0"+t),o<10&&(o="0"+o),i<10&&(i="0"+i),n=t+":"+o+":"+i}return n}),i(document).ready((function(){"undefined"!=typeof lpQuizSettings&&(window.lpQuiz=new n(lpQuizSettings))}))}(jQuery);