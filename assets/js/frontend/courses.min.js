!function(e){const{debounce:t}=lodash,r=function(t){const r=t.url||lpGlobalSettings.courses_url,s=t.wrapElement||".lp-archive-courses";return delete t.url,delete t.wrapElement,LP.setUrl(r),new Promise((n,a)=>{e.ajax({url:r,data:e.extend({},t||{}),type:"POST",success:t=>{let r=e(t).contents().find(s);".lp-archive-courses"===s&&(r=e(t).filter(s)),r.length>0?e(s).replaceWith(r):e(s).html("LearnPress: No Content."),o(),e("html, body").animate({scrollTop:e(s).offset().top-100},200),n(r)},error:e=>{a()}})})},s=t(t=>{t.preventDefault(),r({s:e(t.target).val(),post_type:"lp_course",wrapElement:".learn-press-courses"})},300),n=function(t){let r,s=e(this).parent();for(;!r||!r.length;)r=s.find(".learn-press-courses"),s=s.parent();r.attr("data-layout",this.value),LP.Cookies.set("courses-layout",this.value)},a=function(t){t.preventDefault();let s=e(t.target).attr("href");const n=e('.search-courses input[name="s"]').val();s&&(s=n?s.addQueryVar("s",n):s.removeQueryVar("s"),r({url:s}))},o=function(){e(".lp-archive-courses").on("keyup",'.search-courses input[name="s"]',s).on("change",'input[name="lp-switch-layout-btn"]',n).on("click",".learn-press-pagination .page-numbers",a)};e(document).ready((function(){o(),function(){const t=LP.Cookies.get("courses-layout"),r=e(".lp-courses-bar .switch-layout").find('[name="lp-switch-layout-btn"]');t&&r.filter('[value="'+t+'"]').prop("checked",!0).trigger("change")}()}))}(jQuery);